<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gabarito PROATI 2025</title>
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="styles.css">
  <meta name="theme-color" content="#2c3e50"> 
  <link rel="apple-touch-icon" href="icon-192.png"> 
</head>
<body>
  <div class="container">
    <h1>Gabarito PROATI 2025</h1>

    <div class="tabs">
      <button class="tab" data-tab="register">Cadastrar Respostas</button> 
      <button class="tab" data-tab="compare">Comparar com Foto</button>
    </div>

    <div id="register" class="tab-content"> 
      <h2>Cadastre o Gabarito Oficial</h2>
      <form id="answerForm">
        <div class="answer-grid">
          <!-- Generated by JavaScript -->
          <p>Carregando...</p> 
        </div>
        <button type="submit">Salvar Gabarito</button>
      </form>
      <div class="installation-info">
        <h3>Instalar este App (PWA)</h3>
        <p>Você pode adicionar este aplicativo à tela inicial do seu celular para acesso rápido e offline:</p>
        <ol>
          <li>Abra este site no <strong>Chrome</strong> (ou outro navegador compatível) no seu Android.</li>
          <li>Toque no menu do navegador (⋮).</li>
          <li>Selecione "<strong>Instalar aplicativo</strong>" ou "<strong>Adicionar à tela inicial</strong}".</li>
          <li>Siga as instruções na tela.</li>
        </ol>
        <p>Um ícone aparecerá na sua tela inicial ou gaveta de apps.</p>
      </div>
    </div>

    <div id="compare" class="tab-content"> 
       <h2>Compare com a sua Folha de Respostas</h2>
      <div class="camera-ui">
        <!-- Video element for camera preview -->
        <video id="cameraPreview" class="hidden" playsinline></video> 
        <!-- Canvas to draw the captured photo -->
        <canvas id="photoCanvas" class="hidden"></canvas>
        <!-- Buttons -->
        <button id="startCameraBtn">Abrir Câmera</button>
        <button id="captureBtn" class="hidden">Analisar Foto</button>
      </div>
      <!-- Area to display comparison results -->
      <div id="comparisonResult">
         <p>Abra a câmera e tire uma foto da sua folha de respostas preenchida para comparar.</p>
         <p><small><strong>Nota:</strong> A precisão depende da qualidade da foto, iluminação e da calibração das posições no arquivo <code>config.js</code>.</small></p>
      </div>
    </div>
  </div>

  <!-- Load scripts -->
  <!-- Import map is preferred but requires browser support or polyfill -->
  <!-- Using simple module scripts for now -->
  <script type="module" src="app.js"></script>
  <!-- config.js is imported by app.js -->

</body>
</html>